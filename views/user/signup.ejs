<%- include('./header') %>

<div class="d-flex justify-content-center align-items-center" style="height: 100vh;">

<form method="POST" id="signup-form" action="/signup" class="colorlib-form col-md-3">
    <h2>SIGNUP</h2>
  <div class="row">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="fname">First Name</label>
                <input type="text" id="fname" name="fname" class="form-control" placeholder="Your firstname">
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="lname">Last Name</label>
                <input type="text" id="lname" name="lname" class="form-control" placeholder="Your lastname">
           </div>
        </div>
    </div>

        <div class="col-md-12">
            <div class="form-group">
                <label for="companyname">EMAIL</label>
            <input type="email" id="email" name="email" class="form-control" placeholder="Company Name">
      </div>
   </div>

   <div class="col-md-12">
    <div class="form-group">
        <label for="companyname">PHONE</label>
    <input type="text" id="phone" name="phone" class="form-control" placeholder="Company Name">
</div>
</div>

<div class="col-md-12">
    <div class="form-group">
        <label for="companyname">PASSWORD</label>
    <input type="password" id="password" name="password" class="form-control" placeholder="Company Name">
</div>
</div>

<input type="submit" id="submit" class="form-control btn btn-primary">

</div>
</form>

</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    let signupForm = document.getElementById("signup-form")

    signupForm.addEventListener('submit', (event) => {
        event.preventDefault()


        let firstName = document.getElementById("fname")
        let lastName = document.getElementById("lname")
        let email = document.getElementById("email")
        let phone = document.getElementById("phone")
        let password = document.getElementById("password")
        
        let data = {
            fname: firstName.value,
            lname: lastName.value,
            email: email.value,
            phone: phone.value,
            password: password.value
        }


        axios.post('/signup', data)
            .then((response) => {
                if(response.status == 200){
                    window.location.href = "/signup/otp"
                }
            })
            .catch((error) => {
                console.log("it is an error", error)
            })
    })
</script>
<%- include('./footer') %>